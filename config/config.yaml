# Scene Detection Configuration
scene_detection:
  detector_type: content       # Detector type: "content" or "adaptive"
  threshold: 20.0              # Scene detection sensitivity (lower = more sensitive)
  min_scene_duration: 3.0      # Minimum scene length in seconds

# OCR Configuration
ocr:
  library: easyocr             # OCR library to use
  languages: ['en']            # Languages for OCR
  gpu: true                    # Use GPU acceleration if available
  confidence_threshold: 0.7    # Minimum confidence for automatic acceptance

  # Regions of interest (ROI) for OCR - adjust based on video resolution
  # These coordinates are for 1920x1080 video
  # Multi-tiered strategy: FT scores (primary) > scoreboards (backup) > formations (validation)
  regions:
    ft_score:                  # Lower-middle full-time score graphic (PRIMARY - 90-95% auto-capture)
      x: 800
      y: 900
      width: 320
      height: 120
    scoreboard:                # Top-left live scoreboard graphic (SECONDARY - ubiquitous but motion-blurred)
      x: 0
      y: 0
      width: 400
      height: 100
    formation:                 # Bottom-right formation graphic (VALIDATION - manual screenshots)
      x: 800
      y: 600
      width: 1120              # 1920 - 800 = 1120 (extends to right edge)
      height: 480              # 1080 - 600 = 480 (extends to bottom edge)

  # Scene filtering based on Task 009a reconnaissance findings
  # Target: 810 â†’ 160-240 scenes (70-80% reduction)
  filtering:
    skip_intro_seconds: 50           # Skip first 50 seconds (intro + theme song)
    motd2_interlude_start: 3121      # MOTD 2 interlude start (52:01 = 52*60+1)
    motd2_interlude_end: 3167        # MOTD 2 interlude end (52:47 = 52*60+47)
    min_scene_duration: 2.0          # Skip scenes <2 seconds (transitions)

# Transcription Configuration
transcription:
  model: large-v3              # faster-whisper model (tiny, base, small, medium, large, large-v3)
                               # Note: Uses faster-whisper library, NOT openai-whisper
  language: en                 # Language code
  device: auto                 # Device: auto, cpu, cuda, mps (auto will use GPU if available)
  word_timestamps: true        # Enable word-level timestamps

# Team Names
teams:
  path: data/teams/premier_league_2025_26.json

# Caching Configuration
cache:
  enabled: true
  directory: data/cache
  invalidate_on_config_change: true  # Re-run if config changes

# Output Configuration
output:
  directory: data/output
  format: json
  indent: 2                    # JSON indentation for readability
  include_metadata: true       # Include processing metadata in output

# Logging Configuration
logging:
  level: INFO                  # DEBUG, INFO, WARNING, ERROR
  file: logs/pipeline.log
  console: true                # Also log to console
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
